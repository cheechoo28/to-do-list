(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{106:function(t,e,n){"use strict";n.r(e);var i,c,a=n(0),o=n.n(a),s=n(9),r=n.n(s),l=(n(79),n(80),n(29)),u=n(147),d=n(137),j=n(138),b=n(5),O=o.a.memo((function(t){console.log("AddItem is called");var e=Object(a.useState)(!1),n=Object(l.a)(e,2),i=n[0],c=n[1],o=Object(a.useState)(""),s=Object(l.a)(o,2),r=s[0],O=s[1],f=function(){""!==r.trim()?(t.addItem(r.trim()),O("")):c(!0)};return Object(b.jsxs)("div",{children:[Object(b.jsx)(u.a,{variant:"outlined",label:[t.title],value:r,onChange:function(t){O(t.currentTarget.value)},onKeyPress:function(t){i&&c(!1),13===t.charCode&&f()},error:i,helperText:i&&"Title is required!"}),Object(b.jsx)(d.a,{onClick:f,children:Object(b.jsx)(j.a,{color:"primary"})})]})})),f=n(141),h=n(142),T=n(144),p=n(140),k=n(145),m=n(146),D=n(107),L=n(143),g=n(22),v=n(28),I=n(33),x=n(11),C=n(40),S=n.n(C),E=S.a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"69175483-e93a-4825-bff5-a54b5bb568e7"}});!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(i||(i={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(c||(c={}));var y=function(t){return E.get("todo-lists/".concat(t,"/tasks"))},A=function(t,e){return E.post("todo-lists/".concat(t,"/tasks"),{title:e})},w=function(t,e){return E.delete("todo-lists/".concat(t,"/tasks/").concat(e))},F=function(t,e,n){return E.put("todo-lists/".concat(t,"/tasks/").concat(e),n)},K={},N=function(t,e,n){return function(i,c){var a=c().tasks[t].find((function(t){return t.id===e}));if(a){var o=Object(x.a)({title:a.title,deadline:a.deadline,status:a.status,priority:a.priority,description:a.description,startDate:a.startDate},n);F(t,e,o).then((function(c){i(function(t,e,n){return{type:"UPDATE-TASK",toDoListId:n,taskId:t,model:e}}(e,n,t))}))}}},P=S.a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"69175483-e93a-4825-bff5-a54b5bb568e7"}}),R=function(){return P.get("todo-lists")},M=function(t){return P.post("todo-lists",{title:t})},H=function(t){return P.delete("todo-lists/".concat(t))},U=function(t,e){return P.put("todo-lists/".concat(t),{title:e})},V=[],G=o.a.memo((function(t){console.log("EditableSpan is called");var e=Object(a.useState)(!1),n=Object(l.a)(e,2),i=n[0],c=n[1],o=Object(a.useState)(""),s=Object(l.a)(o,2),r=s[0],d=s[1];return i?Object(b.jsx)(u.a,{variant:"standard",value:r,onChange:function(t){d(t.currentTarget.value)},onBlur:function(){c(!1),t.onChange(r)},autoFocus:!0}):Object(b.jsx)("span",{onDoubleClick:function(){c(!0),d(t.title)},children:t.title})})),z=n(139),B=n(148),J=o.a.memo((function(t){var e=Object(a.useCallback)((function(e){t.changeTitle(t.task.id,e,t.toDoListId)}),[t.changeTitle,t.toDoListId,t.task.id]);return Object(b.jsxs)("div",{style:{paddingLeft:"10px"},className:t.task.status===i.Completed?"is-done":"",children:[Object(b.jsx)(B.a,{checked:t.task.status===i.Completed,onChange:function(e){t.changeStatus(t.task.id,e.currentTarget.checked?i.Completed:i.New,t.toDoListId)}}),Object(b.jsx)(G,{title:t.task.title,onChange:e}),Object(b.jsx)(d.a,{onClick:function(){return t.removeTask(t.task.id,t.toDoListId)},children:Object(b.jsx)(z.a,{})})]})})),Y=o.a.memo((function(t){console.log("ToDoList is called");var e=Object(g.b)();Object(a.useEffect)((function(){var n;e((n=t.id,function(t){y(n).then((function(e){t(function(t,e){return{type:"SET-TASKS",tasks:t,toDoListId:e}}(e.data.items,n))}))}))}),[]);var n=Object(a.useCallback)((function(e){t.addTask(e,t.id)}),[t.addTask,t.id]),c=Object(a.useCallback)((function(e){t.changeTitleToDoList(t.id,e)}),[t.changeTitleToDoList,t.id]),o=Object(a.useCallback)((function(){t.changeFilter("all",t.id)}),[t.changeFilter,t.id]),s=Object(a.useCallback)((function(){t.changeFilter("active",t.id)}),[t.changeFilter,t.id]),r=Object(a.useCallback)((function(){t.changeFilter("completed",t.id)}),[t.changeFilter,t.id]),l=t.tasks;return"active"===t.filter&&(l=l.filter((function(t){return t.status===i.New}))),"completed"===t.filter&&(l=l.filter((function(t){return t.status===i.Completed}))),Object(b.jsxs)("div",{children:[Object(b.jsxs)("h3",{children:[Object(b.jsx)(G,{title:t.title,onChange:c}),Object(b.jsx)(d.a,{onClick:function(){return t.removeToDoList(t.id)},children:Object(b.jsx)(z.a,{})})]}),Object(b.jsx)(O,{addItem:n,title:"Task title..."}),Object(b.jsx)("div",{children:l.map((function(e){return Object(b.jsx)(J,{toDoListId:t.id,task:e,removeTask:t.removeTask,changeStatus:t.changeStatus,changeTitle:t.changeTitle},e.id)}))}),Object(b.jsxs)("div",{children:[Object(b.jsx)(p.a,{size:"small",color:"all"===t.filter?"secondary":"primary",variant:"contained",onClick:o,children:"All"}),Object(b.jsx)(p.a,{size:"small",color:"active"===t.filter?"secondary":"primary",variant:"contained",onClick:s,children:"Active"}),Object(b.jsx)(p.a,{size:"small",color:"completed"===t.filter?"secondary":"primary",variant:"contained",onClick:r,children:"Completed"})]})]})}));var q=function(){console.log("App is called");var t=Object(g.b)(),e=Object(g.c)((function(t){return t.tasks})),n=Object(g.c)((function(t){return t.toDoLists}));Object(a.useEffect)((function(){t((function(t){R().then((function(e){t({type:"SET-TODO-LISTS",toDoLists:e.data})}))}))}),[]);var i=Object(a.useCallback)((function(e,n){t(function(t,e){return function(n){w(t,e).then((function(i){n(function(t,e){return{type:"REMOVE-TASK",taskId:t,toDoListId:e}}(e,t))}))}}(n,e))}),[t]),c=Object(a.useCallback)((function(e,n){t({type:"CHANGE-TODOLIST-FILTER",id:n,filter:e})}),[t]),o=Object(a.useCallback)((function(e,n){t(function(t,e){return function(n){A(t,e).then((function(t){n({type:"ADD-TASK",task:t.data.data.item})}))}}(n,e))}),[t]),s=Object(a.useCallback)((function(e,n,i){t(N(i,e,{status:n}))}),[t]),r=Object(a.useCallback)((function(e){t(function(t){return function(e){H(t).then((function(n){e({type:"REMOVE-TODOLIST",id:t})}))}}(e))}),[t]),l=Object(a.useCallback)((function(e){var n;t((n=e,function(t){M(n).then((function(e){t({type:"ADD-TODOLIST",toDoList:e.data.data.item})}))}))}),[t]),u=Object(a.useCallback)((function(e,n,i){t(N(i,e,{title:n}))}),[t]),j=Object(a.useCallback)((function(e,n){t(function(t,e){return function(n){U(t,e).then((function(i){n(function(t,e){return{type:"CHANGE-TODOLIST-TITLE",id:t,title:e}}(t,e))}))}}(e,n))}),[t]);return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(f.a,{position:"static",children:Object(b.jsxs)(h.a,{children:[Object(b.jsx)(d.a,{edge:"start",color:"inherit","aria-label":"menu",children:Object(b.jsx)(L.a,{})}),Object(b.jsx)(T.a,{variant:"h6",children:"News"}),Object(b.jsx)(p.a,{color:"inherit",children:"Login"})]})}),Object(b.jsxs)(k.a,{fixed:!0,children:[Object(b.jsx)(m.a,{container:!0,style:{padding:"20px 0"},children:Object(b.jsx)(O,{addItem:l,title:"TodoList title..."})}),Object(b.jsx)(m.a,{container:!0,spacing:5,children:n.map((function(t){var n=e[t.id];return Object(b.jsx)(m.a,{item:!0,children:Object(b.jsx)(D.a,{style:{padding:"20px"},elevation:10,children:Object(b.jsx)(Y,{id:t.id,title:t.title,tasks:n,removeTask:i,changeFilter:c,addTask:o,changeStatus:s,filter:t.filter,removeToDoList:r,changeTitle:u,changeTitleToDoList:j},t.id)})},t.id)}))})]})]})},Q=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,150)).then((function(e){var n=e.getCLS,i=e.getFID,c=e.getFCP,a=e.getLCP,o=e.getTTFB;n(t),i(t),c(t),a(t),o(t)}))},W=n(27),X=n(66),Z=Object(W.c)({tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET-TASKS":return Object(x.a)(Object(x.a)({},t),{},Object(v.a)({},e.toDoListId,Object(I.a)(e.tasks)));case"REMOVE-TASK":var n=Object(x.a)({},t),i=n[e.toDoListId];return n[e.toDoListId]=i.filter((function(t){return t.id!==e.taskId})),n;case"ADD-TASK":var c=Object(x.a)({},t),a=c[e.task.todoListId],o=e.task;return c[e.task.todoListId]=[o].concat(Object(I.a)(a)),c;case"UPDATE-TASK":return Object(x.a)(Object(x.a)({},t),{},Object(v.a)({},e.toDoListId,t[e.toDoListId].map((function(t){return t.id===e.taskId?Object(x.a)(Object(x.a)({},t),e.model):t}))));case"ADD-TODOLIST":return Object(x.a)(Object(x.a)({},t),{},Object(v.a)({},e.toDoList.id,[]));case"REMOVE-TODOLIST":var s=Object(x.a)({},t);return delete s[e.id],s;case"SET-TODO-LISTS":var r=Object(x.a)({},t);return e.toDoLists.forEach((function(t){r[t.id]=[]})),r;default:return t}},toDoLists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET-TODO-LISTS":return e.toDoLists.map((function(t){return Object(x.a)(Object(x.a)({},t),{},{filter:"all"})}));case"REMOVE-TODOLIST":return t.filter((function(t){return t.id!==e.id}));case"ADD-TODOLIST":return[].concat(Object(I.a)(t),[Object(x.a)(Object(x.a)({},e.toDoList),{},{filter:"all"})]);case"CHANGE-TODOLIST-TITLE":return t.map((function(t){return t.id===e.id?Object(x.a)(Object(x.a)({},t),{},{title:e.title}):t}));case"CHANGE-TODOLIST-FILTER":return t.map((function(t){return t.id===e.id?Object(x.a)(Object(x.a)({},t),{},{filter:e.filter}):t}));default:return t}}}),$=Object(W.d)(Z,Object(W.a)(X.a));window.store=$,r.a.render(Object(b.jsx)(g.a,{store:$,children:Object(b.jsx)(q,{})}),document.getElementById("root")),Q()},79:function(t,e,n){},80:function(t,e,n){}},[[106,1,2]]]);
//# sourceMappingURL=main.a056162a.chunk.js.map